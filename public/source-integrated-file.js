"use strict";var myApp=angular.module("myApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/"),e.state("home",{url:"/",templateUrl:"/uploader/upload.html",controller:"FileUploadController as fileupCtrl"})}]);myApp.controller("FileUploadController",["$scope","fileUpload",function(e,o){e.fileSent=!1,e.fileUpload=function(){var i=function(o){e.fileSent=!0,setTimeout(function(){e.fileSent=!1,e.$apply()},2e3)},n=e.myFile;if(n){var t="/fileUpload";o.uploadFileToUrl(n,t,i)}}}]),myApp.directive("backImg",function(){return function(e,o,i){var n=i.backImg;o.css({"background-image":"url("+n+")","background-size":"cover"})}}),myApp.directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(o,i,n){var t=e(n.fileModel),r=t.assign;i.bind("change",function(){o.$apply(function(){r(o,i[0].files[0])})})}}}]),myApp.service("fileUpload",["$http",function(e){this.uploadFileToUrl=function(o,i,n){var t=new FormData;t.append("file",o),e.post(i,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e){n()}).error(function(){})}}]);